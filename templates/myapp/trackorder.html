{% extends 'base.html' %}

{% block title %}‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠ - Cherry on Top{% endblock %}

{% block content %}
<div class="container py-5">
  <div class="card shadow p-4 mx-auto" style="max-width: 700px;">
    <h1 class="mb-3">üì¶ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>
    <p class="mb-1"><strong>‡∏ú‡∏π‡πâ‡∏™‡∏±‡πà‡∏á:</strong> {{ customer_name }}</p>

    {% if order %}
      <p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:</strong>
        {% if order.status == 'delivering' %}
          <span class="text-warning">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏™‡πà‡∏á...</span>
        {% elif order.status == 'pending' %}
          <span class="text-secondary">‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
        {% else %}
          <span class="text-success">‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß</span>
        {% endif %}
      </p>

      <h4>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á:</h4>
      <ul class="list-group mb-3">
        {% for item in order.items.all %}
          <li class="list-group-item d-flex align-items-center">
            {% if item.dessert.image_url %}
              <img src="{{ item.dessert.image_url }}" alt="{{ item.dessert.name }}" width="60" height="60" class="me-3 rounded">
            {% endif %}
            <div>
              <strong>{{ item.dessert.name }}</strong><br>
              ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô: {{ item.quantity }} | ‡∏£‡∏≤‡∏Ñ‡∏≤: {{ item.dessert.price }} ‡∏ö‡∏≤‡∏ó
            </div>
          </li>
        {% endfor %}
      </ul>

      <div class="text-end">
        <strong>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: {{ order.total_price }} ‡∏ö‡∏≤‡∏ó</strong>
      </div>

    {% else %}
      <p>‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡πÉ‡∏ô‡∏Ç‡∏ì‡∏∞‡∏ô‡∏µ‡πâ</p>
    {% endif %}
  </div>
</div>
{% endblock %}